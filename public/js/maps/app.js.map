{"version":3,"sources":["app.js"],"names":["setAppState","location","history","pushState","capitalize","document","title","handleLocation","window","pathname","length","$","fadeOut","fadeIn","this","addClass","animate","scrollTop","offset","top","toggleMenu","click","e","preventDefault","fade_in_section","innerText","toLowerCase","hasClass","removeClass","getInstagramImages","feed","Instafeed","get","userId","accessToken","resolution","template","after","setTimeout","masonryInit","run","$instafeed","masonry","itemSelector","fitWidth","imagesLoaded","progress","rotateImages","images","css","backgroundImage","i","setInterval","videoSizing","ready","height","on","contactFormValidation","$form","target","checkValidity","ajax","method","url","data","serialize","done","swal","find","val","text","type","confirmButtonText","googleAnalytics","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","ga","String","prototype","charAt","toUpperCase","slice"],"mappings":"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","file":"app.js","sourcesContent":["(function () {\n  'use strict';\n\n  $(document).ready(function () {\n  \ttoggleMenu();\n    getInstagramImages();\n    rotateImages();\n    handleLocation();\n    contactFormValidation();\n    videoSizing();\n    googleAnalytics();\n  })\n\n}());\n\nfunction setAppState(location) {\n\thistory.pushState({}, \"Nani's Dough - \" + location.capitalize, location);\n\tdocument.title = \"Nani's Dough - \" + location;\n}\n\nfunction handleLocation() {\n\tif (window.location.pathname.length > 2)\n\tswitch (window.location.pathname) {\n\t\tcase \"/doughnuts\":\n\t\t\t$('.contact').fadeOut();\n\t\t\t$('.about').fadeOut();\n\n\t\t\t$('.doughnuts').fadeIn(\"slow\", function () {\n\t\t\t\t$(this).addClass('active');\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $(this).offset().top\n\t\t\t\t}, 300);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"/contact\":\n\t\t\t$('.doughnuts').fadeOut();\n\t\t\t$('.about').fadeOut();\n\n\t\t\t$('.contact').fadeIn(\"slow\", function () {\n\t\t\t\t$(this).addClass('active');\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $(this).offset().top\n\t\t\t\t}, 300);\n\t\t\t});\n\t\t\tbreak;\n\n\t\tdefault: \n\t\t\t$('.contact').fadeOut();\n\t\t\t$('.doughnuts').fadeOut();\n\n\t\t\t$('.about').fadeIn(\"slow\", function () {\n\t\t\t\t$(this).addClass('active');\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $(this).offset().top\n\t\t\t\t}, 300);\n\t\t\t});\n\t}\n}\n\n\nString.prototype.capitalize = function() {\n  return this.charAt(0).toUpperCase() + this.slice(1);\n}\n\nfunction toggleMenu() {\n\t$('.nav__main a').click(function(e) {\n\t\te.preventDefault();\n\t\tconst fade_in_section = '.'+this.innerText.toLowerCase();\n\t\t$('html, body').animate({\n\t\t\tscrollTop: $(fade_in_section).offset().top\n\t\t}, 300);\n\n\t\tif (!$(this).hasClass('active')) {\n\t\t\t$('.doughnuts').fadeOut();\n\t\t\t$('.contact').fadeOut();\n\t\t\t$('.about').fadeOut();\n\n\t\t\t$('.nav__main a').removeClass('active');\n\n\t\t\t$(fade_in_section).fadeIn(\"slow\", function () {\n\t\t\t\t$(this).addClass('active');\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $(fade_in_section).offset().top\n\t\t\t\t}, 300);\n\t\t\t});\n\t\t}\n\n\t\t//update app history url\n\t\tsetAppState(this.innerText.toLowerCase());\n\t})\n}\n\nfunction getInstagramImages() {\n\tlet feed = new Instafeed({\n\t\t\t\t\t\t\t\t\tget: 'user',\n\t\t\t\t\t\t\t\t\tuserId: '2233485228',\n\t\t\t\t\t\t\t\t\taccessToken: '2233485228.745c638.53ad455a211e4250a9e0bbc34ff3b0ac',\n\t\t\t\t\t\t\t\t\tresolution: 'low_resolution',\n\t\t\t\t\t\t\t\t\ttemplate: '<div class=\"doughnut\"><a href=\"{{link}}\"\" target=\"_blank\"><img src=\"{{image}}\"/></a></div>',\n\t\t\t\t\t\t\t\t\tafter: function () {\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t\tmasonryInit();\n\t\t\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t\t\t}\n\t})\n\n\tfeed.run();\n}\n\nfunction masonryInit() {\n\tvar $instafeed = $('#instafeed').masonry({\n\t\titemSelector: '.doughnut',\n\t\tfitWidth: true\n\t}); \n\n\t$instafeed.imagesLoaded().progress( function() {\n\t  $instafeed.masonry('layout');\n\t});\n}\n\nfunction rotateImages() {\n\tconst images = [\n\t\t'/images/doughnuts/d_1.jpg',\n\t\t'/images/doughnuts/d_2.jpg',\n\t\t'/images/doughnuts/d_3.jpg',\n\t\t'/images/doughnuts/d_4.jpg',\n\t\t'/images/doughnuts/d_5.jpg'\n\t]\n\n\t//Insert first image\n\t$('.images').css({\n\t\tbackgroundImage: 'url('+images[0]+')'\n\t})\n\n\tlet i = 1;\n\n\tsetInterval(function () {\n\t\t$('.images')\n\t\t.fadeOut(\"slow\", function () {\n\t\t\t$(this).css({\n\t\t\t\tbackgroundImage: 'url('+images[i]+')'\n\t\t\t})\n\t\t\t.fadeIn(\"slow\");\n\t\t})\n\n\t\ti++;\n\n\t\tif (i===4) {\n\t\t\ti = 0;\t\t\t\n\t\t}\n\t}, 7000)\n\n}\n\nfunction videoSizing() {\n\t$(document).ready(function () {\n\t\t$('.video').height($('.video video').height()+90);\n\t\t$(window).on('resize', function () {\n\t\t\t$('.video').height($('.video video').height());\n\t\t})\n\t})\n}\n\nfunction contactFormValidation(){\n\tvar $form = $('#contact_form');\n\t$form.on('submit', function(e) { // listen for form submitting\n\t\te.preventDefault();\n    if (!e.target.checkValidity()) {\n      swal({   \n      \ttitle: 'Error!',   \n      \ttext: 'Form is incomplete',   \n      \ttype: 'error',\n      \tconfirmButtonText: 'Ok' \n      });\n    }\n    else {\n    \t$.ajax({\n    \t\tmethod: 'POST',\n    \t\turl: '/contact',\n    \t\tdata: $form.serialize()\n    \t}).done(function() {\n    \t\tswal(\n\t\t      'Email Sent!',\n\t\t      \"I'll get back to you as soon as i can!\",\n\t\t      'success'\n\t\t    );\n    \t\t$form.find('input[type=text]').val('');\n    \t\t$form.find('textarea').val('');\n    \t})\n    }\n  });\n}\n\nfunction googleAnalytics() {\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-40485439-7', 'auto');\n  ga('send', 'pageview');\n}\n"],"sourceRoot":"/source/"}